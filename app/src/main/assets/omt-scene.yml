scene:
    background:
        color: '#555'

sources:
    underfoot:
        type: MVT
        url: 'file:///storage/emulated/0/Android/data/rocks.underfoot.underfootandroid/files/underfoot/underfoot-20180402-12.mbtiles'
    underfoot_ways:
        type: MVT
        url: 'file:///storage/emulated/0/Android/data/rocks.underfoot.underfootandroid/files/underfoot/underfoot_ways.mbtiles'

cameras:
    cam:
        type: flat

lights:
    dir:
        type: directional
        direction: [.1, .5, -1]
        diffuse: .7
        ambient: .5

layers:
    vectile:
        data:
            source: underfoot
            layer: units
        interactive:
            draw: { polygons: { interactive: true } }
        draw:
            polygons:
                order: 100
                color:
                    function() {
                        return [
                            ( feature.code || "zzz" ).charCodeAt(0) / 150,
                            ( feature.code || "zzz" ).charCodeAt(1) / 150,
                            ( feature.code || "zzz" ).charCodeAt(2) / 150,
                            0.9
                        ]
                    }
    ways:
        data:
            source: underfoot_ways
            layer: underfoot_ways
        draw:
            lines:
                order: 101
                color: [0.314, 0.314, 0.314, 1.00]
                width: 1.2px
        highways:
            filter:
                highway: [motorway, primary, trunk]
            draw:
                lines:
                    width: 2px
        roads:
            filter:
                highway: [secondary, tertiary]
            draw:
                lines:
                    width: 1.6px
        trails:
            filter:
                highway: [path, track]
            draw:
                lines:
                    style: dashed
                    outline:
                        width: 0
styles:
    water:
        base: polygons
        mix: filter-grain
    vectile:
        base: polygons
        mix: filter-grain
    landuse:
        base: polygons
        mix: filter-grain
    park:
        base: polygons
        mix: filter-grain
    boundary:
        base: lines
    dashed:
        base: lines
        dash: [1]
